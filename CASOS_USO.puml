@startuml CASOS_USO_SIA_COMPLETO

title Diagrama de Casos de Uso - SIA App (Vista General)

' Actores
actor "Agente Inmobiliario" as Agent
actor "Administrador" as Admin
actor "Cliente Público" as Public

' Sistema
rectangle "Sistema SIA App" {

  ' Casos de uso de agente
  usecase "[CU-AGE-01]\nIniciar Sesión" as UC_Login
  usecase "[CU-AGE-02]\nVer Mis Inmuebles Asignados" as UC_ViewMyProperties
  usecase "[CU-AGE-03]\nVer Mis Consultas de Clientes" as UC_ViewMyInquiries

  ' Casos de uso de administrador - Inmuebles
  usecase "[CU-ADM-INM-01]\nGestionar Inmuebles" as UC_ManageProperties
  usecase "[CU-ADM-INM-02]\nGestionar Imágenes" as UC_ManagePropertyImages
  usecase "[CU-ADM-INM-03]\nAsignar/Cambiar Agente" as UC_AssignAgent
  usecase "[CU-ADM-INM-13]\nExportar Inmuebles a CSV" as UC_ExportProperties

  ' Casos de uso de administrador - Agentes
  usecase "[CU-ADM-AGT-01]\nGestionar Agentes" as UC_ManageAgents
  usecase "[CU-ADM-AGT-02]\nVer Todas las Consultas" as UC_ViewAllInquiries
  usecase "[CU-ADM-AGT-11]\nExportar Agentes a CSV" as UC_ExportAgents
  usecase "[CU-ADM-AGT-12]\nExportar Consultas a CSV" as UC_ExportInquiries

  ' Casos de uso de administrador - Datos Maestros
  usecase "[CU-ADM-DM-01]\nGestionar Rubros" as UC_ManageCategories
  usecase "[CU-ADM-DM-02]\nGestionar Estados" as UC_ManageStatuses
  usecase "[CU-ADM-DM-03]\nGestionar Localidades" as UC_ManageLocations
  usecase "[CU-ADM-DM-04]\nGestionar Zonas" as UC_ManageZones
  usecase "[CU-ADM-DM-05]\nGestionar Barrios" as UC_ManageNeighborhoods

  ' Casos de uso públicos
  usecase "[CU-PUB-01]\nRegistrar Consulta" as UC_PublicInquiry

}

' Relaciones Agente
Agent --> UC_Login
Agent --> UC_ViewMyProperties
Agent --> UC_ViewMyInquiries

' Relaciones Administrador - Inmuebles
Admin --> UC_Login
Admin --> UC_ManageProperties
Admin --> UC_ManagePropertyImages
Admin --> UC_AssignAgent
Admin --> UC_ExportProperties

' Relaciones Administrador - Agentes
Admin --> UC_ManageAgents
Admin --> UC_ViewAllInquiries
Admin --> UC_ExportAgents
Admin --> UC_ExportInquiries

' Relaciones Administrador - Datos Maestros
Admin --> UC_ManageCategories
Admin --> UC_ManageStatuses
Admin --> UC_ManageLocations
Admin --> UC_ManageZones
Admin --> UC_ManageNeighborhoods

' Relaciones Públicas
Public --> UC_PublicInquiry

@enduml

' ====================================================================================

@startuml CASOS_USO_AGENTE

title Casos de Uso - Agente Inmobiliario

actor "Agente Inmobiliario" as Agent

rectangle "Sistema SIA App - Módulo Agente" {

  usecase "[CU-AGE-01]\nIniciar Sesión" as UC_Login
  usecase "[CU-AGE-02]\nVer Mis Inmuebles Asignados" as UC_ViewMyProperties
  usecase "[CU-AGE-03]\nVer Mis Consultas de Clientes" as UC_ViewMyInquiries

}

Agent --> UC_Login
Agent --> UC_ViewMyProperties
Agent --> UC_ViewMyInquiries

@enduml

' ====================================================================================

@startuml CASOS_USO_ADMIN_INMUEBLES

title Casos de Uso - Administrador (Gestión de Inmuebles)

actor "Administrador" as Admin

rectangle "Sistema SIA App - Módulo Administrador (Inmuebles)" {

  ' CRUD Inmuebles
  usecase "[CU-ADM-INM-04]\nCrear Nuevo Inmueble" as UC_CreateProperty
  usecase "[CU-ADM-INM-05]\nEditar Inmueble" as UC_UpdateProperty
  usecase "[CU-ADM-INM-06]\nEliminar Inmueble" as UC_DeleteProperty
  usecase "[CU-ADM-INM-07]\nVer Listado de Inmuebles" as UC_ListProperties
  usecase "[CU-ADM-INM-08]\nVer Detalle de Inmueble" as UC_ViewProperty

  ' Gestión de imágenes
  usecase "[CU-ADM-INM-09]\nSubir Imágenes de Inmueble" as UC_UploadImage
  usecase "[CU-ADM-INM-10]\nEliminar Imagen de Inmueble" as UC_DeleteImage
  usecase "[CU-ADM-INM-11]\nMarcar Imagen como Principal" as UC_SetMainImage

  ' Asignación de agentes
  usecase "[CU-ADM-INM-03]\nAsignar/Cambiar Agente" as UC_AssignAgent

  ' Exportación
  usecase "[CU-ADM-INM-13]\nExportar Inmuebles a CSV" as UC_ExportProperties

}

' Relaciones principales
Admin --> UC_CreateProperty
Admin --> UC_UpdateProperty
Admin --> UC_DeleteProperty
Admin --> UC_ListProperties
Admin --> UC_ViewProperty
Admin --> UC_UploadImage
Admin --> UC_DeleteImage
Admin --> UC_SetMainImage
Admin --> UC_AssignAgent
Admin --> UC_ExportProperties

@enduml

' ====================================================================================

@startuml CASOS_USO_ADMIN_AGENTES

title Casos de Uso - Administrador (Gestión de Agentes)

actor "Administrador" as Admin

rectangle "Sistema SIA App - Módulo Administrador (Agentes)" {

  ' CRUD Agentes
  usecase "[CU-ADM-AGT-03]\nCrear Nuevo Agente" as UC_CreateAgent
  usecase "[CU-ADM-AGT-04]\nEditar Agente" as UC_UpdateAgent
  usecase "[CU-ADM-AGT-05]\nEliminar Agente" as UC_DeleteAgent
  usecase "[CU-ADM-AGT-06]\nVer Listado de Agentes" as UC_ListAgents
  usecase "[CU-ADM-AGT-07]\nVer Detalle de Agente" as UC_ViewAgent

  ' Gestión de consultas
  usecase "[CU-ADM-AGT-02]\nVer Todas las Consultas" as UC_ViewAllInquiries

  ' Exportación
  usecase "[CU-ADM-AGT-11]\nExportar Agentes a CSV" as UC_ExportAgents
  usecase "[CU-ADM-AGT-12]\nExportar Consultas a CSV" as UC_ExportInquiries

}

' Relaciones principales
Admin --> UC_CreateAgent
Admin --> UC_UpdateAgent
Admin --> UC_DeleteAgent
Admin --> UC_ListAgents
Admin --> UC_ViewAgent
Admin --> UC_ViewAllInquiries
Admin --> UC_ExportAgents
Admin --> UC_ExportInquiries

@enduml

' ====================================================================================

@startuml CASOS_USO_ADMIN_DATOS_MAESTROS

title Casos de Uso - Administrador (Gestión de Datos Maestros)

actor "Administrador" as Admin

rectangle "Sistema SIA App - Módulo Administrador (Datos Maestros)" {

  ' Rubros de Inmuebles (Categorías)
  package "Rubros de Inmuebles" {
    usecase "[CU-ADM-DM-06]\nListar Rubros" as UC_ListCategories
    usecase "[CU-ADM-DM-07]\nCrear Rubro" as UC_CreateCategory
    usecase "[CU-ADM-DM-08]\nEditar Rubro" as UC_UpdateCategory
    usecase "[CU-ADM-DM-09]\nEliminar Rubro" as UC_DeleteCategory
  }

  ' Estados de Inmuebles
  package "Estados de Inmuebles" {
    usecase "[CU-ADM-DM-10]\nListar Estados" as UC_ListStatuses
    usecase "[CU-ADM-DM-11]\nCrear Estado" as UC_CreateStatus
    usecase "[CU-ADM-DM-12]\nEditar Estado" as UC_UpdateStatus
    usecase "[CU-ADM-DM-13]\nEliminar Estado" as UC_DeleteStatus
  }

  ' Localidades
  package "Localidades" {
    usecase "[CU-ADM-DM-14]\nListar Localidades" as UC_ListLocations
    usecase "[CU-ADM-DM-15]\nCrear Localidad" as UC_CreateLocation
    usecase "[CU-ADM-DM-16]\nEditar Localidad" as UC_UpdateLocation
    usecase "[CU-ADM-DM-17]\nEliminar Localidad" as UC_DeleteLocation
  }

  ' Zonas
  package "Zonas" {
    usecase "[CU-ADM-DM-18]\nListar Zonas" as UC_ListZones
    usecase "[CU-ADM-DM-19]\nCrear Zona" as UC_CreateZone
    usecase "[CU-ADM-DM-20]\nEditar Zona" as UC_UpdateZone
    usecase "[CU-ADM-DM-21]\nEliminar Zona" as UC_DeleteZone
  }

  ' Barrios
  package "Barrios" {
    usecase "[CU-ADM-DM-22]\nListar Barrios" as UC_ListNeighborhoods
    usecase "[CU-ADM-DM-23]\nCrear Barrio" as UC_CreateNeighborhood
    usecase "[CU-ADM-DM-24]\nEditar Barrio" as UC_UpdateNeighborhood
    usecase "[CU-ADM-DM-25]\nEliminar Barrio" as UC_DeleteNeighborhood
  }

}

' Relaciones Rubros
Admin --> UC_ListCategories
Admin --> UC_CreateCategory
Admin --> UC_UpdateCategory
Admin --> UC_DeleteCategory

' Relaciones Estados
Admin --> UC_ListStatuses
Admin --> UC_CreateStatus
Admin --> UC_UpdateStatus
Admin --> UC_DeleteStatus

' Relaciones Localidades
Admin --> UC_ListLocations
Admin --> UC_CreateLocation
Admin --> UC_UpdateLocation
Admin --> UC_DeleteLocation

' Relaciones Zonas
Admin --> UC_ListZones
Admin --> UC_CreateZone
Admin --> UC_UpdateZone
Admin --> UC_DeleteZone

' Relaciones Barrios
Admin --> UC_ListNeighborhoods
Admin --> UC_CreateNeighborhood
Admin --> UC_UpdateNeighborhood
Admin --> UC_DeleteNeighborhood

@enduml

' ====================================================================================

@startuml CASOS_USO_PUBLICO

title Casos de Uso - Cliente Público

actor "Cliente Público" as Public

rectangle "Sistema SIA App - Acceso Público" {

  usecase "[CU-PUB-01]\nRegistrar Consulta\nsobre Inmueble" as UC_PublicInquiry

}

Public --> UC_PublicInquiry

note right of UC_PublicInquiry
  El cliente completa un formulario
  de consulta sin necesidad de
  estar autenticado. El sistema
  asigna automáticamente un agente
  para responder la consulta.
end note

@enduml
